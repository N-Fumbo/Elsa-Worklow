{"version":3,"names":["PublishButton","onPublishClick","this","publishClicked","emit","begin","publishing","complete","onUnPublishClick","unPublishClicked","async","exportClicked","importClicked","publishingIcon","h","class","xmlns","fill","viewBox","cx","cy","r","stroke","d","render","items","text","handler","onExportClick","group","onImportClick","mainItem","disabled","icon","onMenuOpened","NotificationService","hideAllNotifications"],"sources":["./src/modules/workflow-definitions/components/publish-button.tsx"],"sourcesContent":["import {Component, Event, EventEmitter, h, Prop} from '@stencil/core';\nimport {DropdownButtonItem} from \"../../../components/shared/dropdown-button/models\";\nimport NotificationService from \"../../notifications/notification-service\";\n\nexport interface PublishClickedArgs {\n  begin: () => void;\n  complete: () => void;\n}\n\n@Component({\n  tag: 'elsa-workflow-publish-button',\n  shadow: false,\n})\nexport class PublishButton {\n\n  @Prop() publishing: boolean;\n  @Prop() disabled: boolean;\n  @Event({bubbles: true}) newClicked: EventEmitter;\n  @Event({bubbles: true}) publishClicked: EventEmitter<PublishClickedArgs>;\n  @Event({bubbles: true}) unPublishClicked: EventEmitter;\n  @Event({bubbles: true}) exportClicked: EventEmitter;\n  @Event({bubbles: true}) importClicked: EventEmitter<File>;\n\n  menu: HTMLElement;\n  element: HTMLElement;\n\n  private onPublishClick() {\n    this.publishClicked.emit({\n      begin: () => this.publishing = true,\n      complete: () => this.publishing = false\n    });\n  }\n\n  private onUnPublishClick() {\n    this.unPublishClicked.emit();\n  }\n\n  private async onExportClick() {\n    this.exportClicked.emit();\n  }\n\n  private async onImportClick() {\n    this.importClicked.emit();\n  }\n\n  private publishingIcon() {\n    if(!this.publishing)\n      return null;\n\n    return <svg class=\"tw-animate-spin -tw-ml-1 tw-mr-3 tw-h-5 tw-w-5 tw-text-blue-400\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n      <circle class=\"tw-opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"/>\n      <path class=\"tw-opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"/>\n    </svg>;\n  }\n\n  render() {\n    const publishing = this.publishing;\n\n    const items: Array<DropdownButtonItem> = [{\n      text: 'Export',\n      handler: () => this.onExportClick(),\n      group: 1\n    },{\n      text: 'Import',\n      handler: () => this.onImportClick(),\n      group: 1\n    }, {\n      text: 'Unpublish',\n      handler: () => this.onUnPublishClick(),\n      group: 2\n    }];\n\n    const mainItem: DropdownButtonItem = {\n      text: publishing ? 'Publishing' : 'Publish',\n      handler: publishing ? () => {} : () => this.onPublishClick()\n    }\n\n    return <elsa-dropdown-button disabled={this.disabled} text={mainItem.text} handler={mainItem.handler} items={items} icon={this.publishingIcon()} onMenuOpened={() => NotificationService.hideAllNotifications()} />\n  }\n}\n"],"mappings":"oHAaaA,EAAa,M,8SAahBC,iBACNC,KAAKC,eAAeC,KAAK,CACvBC,MAAO,IAAMH,KAAKI,WAAa,KAC/BC,SAAU,IAAML,KAAKI,WAAa,O,CAI9BE,mBACNN,KAAKO,iBAAiBL,M,CAGhBM,sBACNR,KAAKS,cAAcP,M,CAGbM,sBACNR,KAAKU,cAAcR,M,CAGbS,iBACN,IAAIX,KAAKI,WACP,OAAO,KAET,OAAOQ,EAAA,OAAKC,MAAM,kEAAkEC,MAAM,6BAA6BC,KAAK,OAAOC,QAAQ,aACzIJ,EAAA,UAAQC,MAAM,gBAAgBI,GAAG,KAAKC,GAAG,KAAKC,EAAE,KAAKC,OAAO,eAAc,eAAc,MACxFR,EAAA,QAAMC,MAAM,gBAAgBE,KAAK,eAAeM,EAAE,oH,CAItDC,SACE,MAAMlB,EAAaJ,KAAKI,WAExB,MAAMmB,EAAmC,CAAC,CACxCC,KAAM,SACNC,QAAS,IAAMzB,KAAK0B,gBACpBC,MAAO,GACP,CACAH,KAAM,SACNC,QAAS,IAAMzB,KAAK4B,gBACpBD,MAAO,GACN,CACDH,KAAM,YACNC,QAAS,IAAMzB,KAAKM,mBACpBqB,MAAO,IAGT,MAAME,EAA+B,CACnCL,KAAMpB,EAAa,aAAe,UAClCqB,QAASrB,EAAa,OAAW,IAAMJ,KAAKD,kBAG9C,OAAOa,EAAA,wBAAsBkB,SAAU9B,KAAK8B,SAAUN,KAAMK,EAASL,KAAMC,QAASI,EAASJ,QAASF,MAAOA,EAAOQ,KAAM/B,KAAKW,iBAAkBqB,aAAc,IAAMC,EAAoBC,wB"}