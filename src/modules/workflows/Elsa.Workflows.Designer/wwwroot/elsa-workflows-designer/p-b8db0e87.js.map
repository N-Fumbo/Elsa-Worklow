{"version":3,"names":["async","fetchRuntimeItems","options","elsaClientProvider","Container","get","ElsaClientProvider","elsaClient","getElsaClient","designer","runtimeSelectListApi","runtimeSelectListProviderType","context","getSelectListItems","propertyDescriptor","selectList","Array","isArray","items","isFlagsEnum"],"sources":["./src/utils/select-list-items.ts"],"sourcesContent":["import {\n  InputDescriptor,\n  RuntimeSelectListProviderSettings,\n  SelectList,\n} from \"../models\";\nimport {Container} from \"typedi\";\nimport {ElsaClientProvider} from \"../services\";\n\nasync function fetchRuntimeItems(options: RuntimeSelectListProviderSettings): Promise<SelectList> {\n  const elsaClientProvider = Container.get(ElsaClientProvider);\n  const elsaClient = await elsaClientProvider.getElsaClient();\n  return await elsaClient.designer.runtimeSelectListApi.get(options.runtimeSelectListProviderType, options.context || {});\n}\n\nexport async function getSelectListItems(propertyDescriptor: InputDescriptor): Promise<SelectList> {\n  const options: any = propertyDescriptor.options;\n  let selectList: SelectList;\n\n  if (!!options && options.runtimeSelectListProviderType)\n    selectList = await fetchRuntimeItems(options);\n  else if (Array.isArray(options))\n    selectList = {\n      items: options,\n      isFlagsEnum: false\n    };\n  else\n    selectList = options as SelectList;\n\n  return selectList || {items: [], isFlagsEnum: false};\n}\n"],"mappings":"sFAQAA,eAAeC,EAAkBC,GAC/B,MAAMC,EAAqBC,EAAUC,IAAIC,GACzC,MAAMC,QAAmBJ,EAAmBK,gBAC5C,aAAaD,EAAWE,SAASC,qBAAqBL,IAAIH,EAAQS,8BAA+BT,EAAQU,SAAW,GACtH,CAEOZ,eAAea,EAAmBC,GACvC,MAAMZ,EAAeY,EAAmBZ,QACxC,IAAIa,EAEJ,KAAMb,GAAWA,EAAQS,8BACvBI,QAAmBd,EAAkBC,QAClC,GAAIc,MAAMC,QAAQf,GACrBa,EAAa,CACXG,MAAOhB,EACPiB,YAAa,YAGfJ,EAAab,EAEf,OAAOa,GAAc,CAACG,MAAO,GAAIC,YAAa,MAChD,Q"}