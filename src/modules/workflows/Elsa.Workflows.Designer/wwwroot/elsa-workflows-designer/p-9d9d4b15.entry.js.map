{"version":3,"names":["clickHandler","e","onNavigate","preventDefault","PreviousButton","currentPage","pageCount","h","href","onClick","class","undefined","NextButton","ChevronLeft","xmlns","viewBox","fill","d","ChevronRight","PagerButtons","buttons","maxPageButtons","fromPage","Math","max","toPage","min","i","isCurrent","isFirst","isLast","leftRoundedClass","rightRoundedClass","push","ElsaPager","this","navigate","page","paginated","emit","pageSize","totalCount","render","from","to","round"],"sources":["./src/components/shared/pager/controls.tsx","./src/components/shared/pager/pager.tsx"],"sourcesContent":["import {FunctionalComponent, h} from \"@stencil/core\";\n\nexport interface PagerProps {\n  currentPage: number;\n  pageCount: number;\n  onNavigate: (page: number) => void;\n}\n\nconst clickHandler = (e: MouseEvent, onNavigate: () => void) => {\n  e.preventDefault();\n  onNavigate();\n};\n\nexport const PreviousButton: FunctionalComponent<PagerProps> = ({currentPage, pageCount, onNavigate}) => currentPage > 0 ?\n  <a href=\"#\" onClick={e => clickHandler(e, () => onNavigate(currentPage - 1))}\n     class=\"elsa-pager-button previous\">\n    Previous\n  </a> : undefined;\n\nexport const NextButton: FunctionalComponent<PagerProps> = ({currentPage, pageCount, onNavigate}) => currentPage < pageCount ?\n  <a href=\"#\"\n     onClick={e => clickHandler(e, () => onNavigate(currentPage + 1))}\n     class=\"elsa-pager-button next\">\n    Next\n  </a> : undefined;\n\nexport const ChevronLeft: FunctionalComponent<PagerProps> = ({currentPage, pageCount, onNavigate}) => currentPage > 0 ?\n  <a href=\"#\" onClick={e => clickHandler(e, () => onNavigate(currentPage - 1))} class=\"elsa-pager-chevron left\" aria-label=\"Previous\">\n    <svg class=\"tw-h-5 tw-w-5\" x-description=\"Heroicon name: chevron-left\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n      <path fill-rule=\"evenodd\" d=\"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z\" clip-rule=\"evenodd\"/>\n    </svg>\n  </a> : undefined;\n\nexport const ChevronRight: FunctionalComponent<PagerProps> = ({currentPage, pageCount, onNavigate}) => currentPage < pageCount - 1 ?\n  <a href=\"#\"\n     onClick={e => clickHandler(e, () => onNavigate(currentPage + 1))}\n     class=\"elsa-pager-chevron right\"\n     aria-label=\"Next\">\n    <svg class=\"tw-h-5 tw-w-5\" x-description=\"Heroicon name: chevron-right\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n      <path fill-rule=\"evenodd\" d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\" clip-rule=\"evenodd\"/>\n    </svg>\n  </a> : undefined;\n\nexport const PagerButtons: FunctionalComponent<PagerProps> = ({currentPage, pageCount, onNavigate}) => {\n  const buttons = [];\n  const maxPageButtons = 10;\n  const fromPage = Math.max(0, currentPage - maxPageButtons / 2);\n  const toPage = Math.min(pageCount, fromPage + maxPageButtons);\n\n  for (let i = fromPage; i < toPage; i++) {\n    const isCurrent = currentPage == i;\n    const isFirst = i == fromPage;\n    const isLast = i == toPage - 1;\n    const leftRoundedClass = isFirst && isCurrent ? 'tw-rounded-l-md' : '';\n    const rightRoundedClass = isLast && isCurrent ? 'tw-rounded-r-md' : '';\n\n    if (isCurrent) {\n      buttons.push(<span\n        class={`-tw-ml-px tw-relative tw-inline-flex tw-items-center tw-px-4 tw-py-2 tw-border tw-border-gray-300 tw-text-sm tw-leading-5 tw-font-medium tw-bg-blue-600 tw-text-white ${leftRoundedClass} ${rightRoundedClass}`}>\n                        {i + 1}\n                    </span>);\n    } else {\n      buttons.push(<a href=\"#\"\n                      onClick={e => clickHandler(e, () => onNavigate(i))}\n                      class={`-tw-ml-px tw-relative tw-inline-flex tw-items-center tw-px-4 tw-py-2 tw-border tw-border-gray-300 tw-bg-white tw-text-sm tw-leading-5 tw-font-medium tw-text-gray-700 hover:tw-text-gray-500 focus:tw-z-10 focus:tw-outline-none active:tw-bg-gray-100 active:tw-text-gray-700 tw-transition tw-ease-in-out tw-duration-150 ${leftRoundedClass}`}>\n        {i + 1}\n      </a>)\n    }\n  }\n\n  return buttons;\n}\n","import {Component, Event, EventEmitter, h, Prop} from '@stencil/core';\nimport {ChevronLeft, ChevronRight, NextButton, PagerButtons, PreviousButton} from \"./controls\";\n\nexport interface PagerData {\n  page: number;\n  pageSize: number;\n  totalCount: number;\n}\n\n@Component({\n  tag: 'elsa-pager',\n  shadow: false,\n})\nexport class ElsaPager {\n\n  @Prop() page: number;\n  @Prop() pageSize: number;\n  @Prop() totalCount: number;\n  @Event() paginated: EventEmitter<PagerData>\n\n  public render() {\n    const page = this.page;\n    const pageSize = this.pageSize;\n    const totalCount = this.totalCount;\n    const from = totalCount == 0 ? 0 : page * pageSize + 1;\n    const to = Math.min(from + pageSize - 1, totalCount);\n    const pageCount = Math.round(((totalCount - 1) / pageSize) + 0.5);\n\n    return (\n      <div class=\"tw-bg-white tw-px-4 tw-py-3 tw-flex tw-items-center tw-justify-between tw-border-t tw-border-gray-200 sm:tw-px-6\">\n        <div class=\"tw-flex-1 tw-flex tw-justify-between sm:hidden\">\n          <PreviousButton currentPage={page} pageCount={pageCount} onNavigate={this.onNavigate}/>\n          <NextButton currentPage={page} pageCount={pageCount} onNavigate={this.onNavigate}/>\n        </div>\n        <div class=\"hidden sm:tw-flex-1 sm:tw-flex sm:tw-items-center sm:tw-justify-between\">\n          <div>\n            <p class=\"tw-text-sm tw-leading-5 tw-text-gray-700 tw-space-x-0.5\">\n              <span>From</span>\n              <span class=\"tw-font-medium\">{from}</span>\n              <span>to</span>\n              <span class=\"tw-font-medium\">{to}</span>\n              <span>of</span>\n              <span class=\"tw-font-medium\">{totalCount}</span>\n              <span>results</span>\n            </p>\n          </div>\n          <div>\n            <nav class=\"tw-relative tw-z-0 tw-inline-flex tw-shadow-sm\">\n              <ChevronLeft currentPage={page} pageCount={pageCount} onNavigate={this.onNavigate}/>\n              <PagerButtons currentPage={page} pageCount={pageCount} onNavigate={this.onNavigate}/>\n              <ChevronRight currentPage={page} pageCount={pageCount} onNavigate={this.onNavigate}/>\n            </nav>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  private navigate = (page: number) => this.paginated.emit({page, pageSize: this.pageSize, totalCount: this.totalCount});\n  private onNavigate = (page: number) => this.navigate(page);\n}\n"],"mappings":"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"}