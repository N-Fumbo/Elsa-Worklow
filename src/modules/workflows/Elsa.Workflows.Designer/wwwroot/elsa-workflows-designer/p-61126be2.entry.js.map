{"version":3,"names":["SlideOverPanel","this","onCloseClick","async","hide","onOverlayClick","e","target","overlayElement","onTransitionEnd","isHiding","isVisible","collapsed","emit","isShowing","handleExpanded","value","render","renderPanel","onTabClick","tab","preventDefault","selectedTab","wrapperClass","backdropClass","panelClass","tabs","actions","h","class","role","onClick","ref","el","formElement","method","id","headerText","type","xmlns","fill","viewBox","stroke","d","map","cssClass","href","displayText","content","action","display","isPrimary","buttonType","PanelActionType","Submit","cancelHandler","emptyHandler","clickHandler","Cancel","text"],"sources":["./src/components/shared/slide-over-panel/slide-over-panel.tsx"],"sourcesContent":["import {Component, Event, EventEmitter, h, Method, Prop, State, Watch} from '@stencil/core';\nimport {TabDefinition} from '../../../models';\nimport {PanelActionDefinition, PanelActionType} from \"../../shared/form-panel/models\";\n\n@Component({\n  tag: 'elsa-slide-over-panel'\n})\nexport class SlideOverPanel {\n  private overlayElement: HTMLElement;\n  private formElement: HTMLFormElement;\n\n  @Prop() public headerText: string;\n  @Prop() public tabs: Array<TabDefinition> = [];\n  @Prop({mutable: true}) public selectedTab?: TabDefinition;\n  @Prop() public actions: Array<PanelActionDefinition> = [];\n  @Prop() public expand: boolean;\n  @Event() public collapsed: EventEmitter;\n\n  @Method()\n  public async show(): Promise<void> {\n    this.isShowing = true;\n    this.isHiding = false;\n    this.isVisible = true;\n  }\n\n  @Method()\n  public async hide(): Promise<void> {\n    this.isHiding = true;\n    this.isShowing = false;\n  }\n\n  @State() public isHiding: boolean = false;\n  @State() public isShowing: boolean = false;\n  @State() public isVisible: boolean = false;\n\n  @Watch('expand')\n  private handleExpanded(value: boolean) {\n    this.isShowing = value;\n    this.isHiding = !value;\n\n    if (value)\n      this.isVisible = true;\n  }\n\n  public render() {\n    return this.renderPanel();\n  }\n\n  private onCloseClick = async () => {\n    await this.hide();\n  };\n\n  private onOverlayClick = async (e: MouseEvent) => {\n    if (e.target != this.overlayElement)\n      return;\n\n    // Hide panel.\n    await this.hide();\n  };\n\n  private onTransitionEnd = (e: TransitionEvent) => {\n    if (this.isHiding) {\n      this.isVisible = false;\n      this.isHiding = false;\n      this.collapsed.emit();\n    }\n  };\n\n  private onTabClick(e: Event, tab: TabDefinition) {\n    e.preventDefault();\n    this.selectedTab = tab;\n  }\n\n  private renderPanel() {\n    const isVisible = this.isVisible;\n    const isHiding = this.isHiding;\n    const wrapperClass = isVisible ? 'tw-block' : 'hidden';\n    const backdropClass = !isHiding && isVisible ? 'tw-opacity-50' : 'tw-opacity-0';\n    const panelClass = !isHiding && isVisible ? 'tw-max-w-2xl w-2xl' : 'tw-max-tw-w-0 tw-w-0';\n    const tabs = this.tabs;\n    const selectedTab = this.selectedTab;\n    const actions = this.actions;\n\n    return (\n      <div class={`tw-fixed tw-inset-0 tw-overflow-hidden tw-z-10 ${wrapperClass}`} aria-labelledby=\"slide-over-title\" role=\"dialog\"\n           aria-modal=\"true\">\n        <div class=\"tw-absolute tw-inset-0 tw-overflow-hidden\">\n\n          <div class={`tw-absolute tw-inset-0 tw-bg-gray-100 tw-ease-in-out tw-duration-200 ${backdropClass}`}\n               onTransitionEnd={e => this.onTransitionEnd(e)}/>\n\n          <div class=\"tw-absolute tw-inset-0\" aria-hidden=\"true\" onClick={e => this.onOverlayClick(e)}\n               ref={el => this.overlayElement = el}>\n\n            <div class=\"tw-fixed tw-inset-y-0 tw-right-0 tw-pl-10 tw-max-w-full tw-flex sm:tw-pl-16\">\n\n              <div class={`tw-w-screen tw-ease-in-out tw-duration-200 ${panelClass}`}>\n                <form class=\"tw-h-full tw-flex tw-flex-col tw-bg-white tw-shadow-xl\"\n                      ref={el => this.formElement = el} method=\"post\">\n                  <div class=\"tw-flex tw-flex-col tw-flex-1\">\n\n                    <div class=\"tw-px-4 tw-py-6 tw-bg-gray-50 sm:tw-px-6\">\n                      <div class=\"tw-flex tw-items-start tw-justify-between tw-space-x-3\">\n                        <div class=\"tw-space-y-1\">\n                          <h2 class=\"tw-text-lg tw-font-medium tw-text-gray-900\" id=\"slide-over-title\">\n                            {this.headerText}\n                          </h2>\n                        </div>\n                        <div class=\"tw-h-7 tw-flex tw-items-center\">\n                          <button type=\"button\" class=\"tw-text-gray-400 hover:tw-text-gray-500\"\n                                  onClick={() => this.onCloseClick()}>\n                            <span class=\"tw-sr-only\">Close panel</span>\n                            <svg class=\"tw-h-6 tw-w-6\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"\n                                 stroke=\"currentColor\" aria-hidden=\"true\">\n                              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n                                    d=\"M6 18L18 6M6 6l12 12\"/>\n                            </svg>\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div class=\"tw-border-b tw-border-gray-200\">\n                      <nav class=\"-tw-mb-px tw-flex\" aria-label=\"Tabs\">\n                        {tabs.map(tab => {\n                          const cssClass = tab == selectedTab ? 'tw-border-blue-500 tw-text-blue-600' : 'tw-border-transparent tw-text-gray-500 hover:tw-text-gray-700 hover:tw-border-gray-300';\n                          return <a href=\"#\"\n                                    onClick={e => this.onTabClick(e, tab)}\n                                    class={`${cssClass} tw-py-4 tw-px-1 tw-text-center tw-border-b-2 tw-font-medium tw-text-sm tw-flex-1`}>\n                            {tab.displayText}\n                          </a>\n                        })}\n                      </nav>\n                    </div>\n\n                    <div class=\"tw-flex-1 tw-relative\">\n\n                      <div class=\"tw-absolute tw-inset-0 tw-overflow-y-scroll\">\n                        {tabs.map(tab => {\n                          const cssClass = tab == selectedTab ? '' : 'hidden';\n                          return <div class={cssClass}>\n                            {tab.content()}\n                          </div>\n                        })}\n                      </div>\n                    </div>\n                  </div>\n\n                  <div class=\"tw-flex-shrink-0 tw-px-4 tw-border-t tw-border-gray-200 tw-py-5 sm:tw-px-6\">\n                    <div class=\"tw-space-x-3 tw-flex tw-justify-end\">\n                      {actions.map(action => {\n\n                        if (action.display)\n                          return action.display(action);\n\n                        const cssClass = action.isPrimary ? 'tw-text-white tw-bg-blue-600 hover:tw-bg-blue-700 tw-border-transparent' : 'tw-bg-white tw-border-gray-300 tw-text-gray-700 hover:tw-bg-gray-50';\n                        const buttonType = action.type == PanelActionType.Submit ? 'submit' : 'button';\n                        const cancelHandler = async () => await this.hide();\n\n                        const emptyHandler = () => {\n                        };\n\n                        const clickHandler = !!action.onClick ? action.onClick : action.type == PanelActionType.Cancel ? cancelHandler : emptyHandler;\n\n                        return <button type={buttonType}\n                                       onClick={e => clickHandler({e, action})}\n                                       class={`${cssClass} tw-py-2 tw-px-4 tw-border tw-rounded-md tw-shadow-sm tw-text-sm tw-font-medium focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-offset-2 focus:tw-ring-blue-500`}>\n                          {action.text}\n                        </button>\n                      })}\n                    </div>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n"],"mappings":"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"}