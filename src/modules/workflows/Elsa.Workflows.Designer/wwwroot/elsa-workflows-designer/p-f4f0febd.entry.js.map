{"version":3,"names":["MultiTextInput","this","onPropertyEditorChanged","e","json","JSON","stringify","detail","inputContext","inputChanged","SyntaxNames","Object","onExpressionChanged","expression","syntax","render","inputDescriptor","fieldId","name","displayName","hint","description","input","getInputPropertyValue","_b","_a","type","defaultSyntax","_c","value","defaultValue","values","getObjectOrParseJson","length","h","label","onValueChanged"],"sources":["./src/components/inputs/multi-text.tsx"],"sourcesContent":["import {Component, Prop, h} from '@stencil/core';\nimport {ObjectExpression, LiteralExpression, SyntaxNames} from \"../../models\";\nimport {ActivityInputContext} from \"../../services/activity-input-driver\";\nimport {getInputPropertyValue, getObjectOrParseJson, parseJson} from \"../../utils\";\nimport {ExpressionChangedArs} from \"../shared/input-control-switch/input-control-switch\";\n\n@Component({\n  tag: 'elsa-multi-text-input',\n  shadow: false\n})\nexport class MultiTextInput {\n  @Prop() inputContext: ActivityInputContext;\n\n  public render() {\n    const inputContext = this.inputContext;\n    const inputDescriptor = inputContext.inputDescriptor;\n    const fieldId = inputDescriptor.name;\n    const displayName = inputDescriptor.displayName;\n    const hint = inputDescriptor.description;\n    const input = getInputPropertyValue(inputContext);\n    const syntax = input?.expression?.type ?? inputDescriptor.defaultSyntax;\n    const json = (input?.expression as ObjectExpression)?.value;\n    const defaultValue = inputDescriptor.defaultValue;\n    let values = getObjectOrParseJson(json);\n\n    if (!values || values.length == 0)\n      values = getObjectOrParseJson(defaultValue) || [];\n\n    return (\n      <elsa-input-control-switch label={displayName} hint={hint} syntax={syntax} expression={json} onExpressionChanged={this.onExpressionChanged}>\n        <elsa-input-tags fieldId={fieldId} values={values} onValueChanged={this.onPropertyEditorChanged}/>\n      </elsa-input-control-switch>\n    );\n  }\n\n  private onPropertyEditorChanged = (e: CustomEvent<Array<string>>) => {\n    const json = JSON.stringify(e.detail);\n    this.inputContext.inputChanged(json, SyntaxNames.Object);\n  };\n\n  private onExpressionChanged = (e: CustomEvent<ExpressionChangedArs>) => {\n    this.inputContext.inputChanged(e.detail.expression, e.detail.syntax);\n  }\n}\n"],"mappings":"mPAUaA,EAAc,M,yBAyBjBC,KAAAC,wBAA2BC,IACjC,MAAMC,EAAOC,KAAKC,UAAUH,EAAEI,QAC9BN,KAAKO,aAAaC,aAAaL,EAAMM,EAAYC,OAAO,EAGlDV,KAAAW,oBAAuBT,IAC7BF,KAAKO,aAAaC,aAAaN,EAAEI,OAAOM,WAAYV,EAAEI,OAAOO,OAAO,E,4BA5B/DC,S,UACL,MAAMP,EAAeP,KAAKO,aAC1B,MAAMQ,EAAkBR,EAAaQ,gBACrC,MAAMC,EAAUD,EAAgBE,KAChC,MAAMC,EAAcH,EAAgBG,YACpC,MAAMC,EAAOJ,EAAgBK,YAC7B,MAAMC,EAAQC,EAAsBf,GACpC,MAAMM,GAASU,GAAAC,EAAAH,IAAK,MAALA,SAAK,SAALA,EAAOT,cAAU,MAAAY,SAAA,SAAAA,EAAEC,QAAI,MAAAF,SAAA,EAAAA,EAAIR,EAAgBW,cAC1D,MAAMvB,GAAOwB,EAACN,IAAK,MAALA,SAAK,SAALA,EAAOT,cAA+B,MAAAe,SAAA,SAAAA,EAAEC,MACtD,MAAMC,EAAed,EAAgBc,aACrC,IAAIC,EAASC,EAAqB5B,GAElC,IAAK2B,GAAUA,EAAOE,QAAU,EAC9BF,EAASC,EAAqBF,IAAiB,GAEjD,OACEI,EAAA,6BAA2BC,MAAOhB,EAAaC,KAAMA,EAAMN,OAAQA,EAAQD,WAAYT,EAAMQ,oBAAqBX,KAAKW,qBACrHsB,EAAA,mBAAiBjB,QAASA,EAASc,OAAQA,EAAQK,eAAgBnC,KAAKC,0B"}